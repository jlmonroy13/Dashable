!function(){angular.module("CheckIn",["ngRoute","angular-google-gapi","LocalStorageModule","selectize","angular-momentjs"])}(),function(){function a(a){a.when("/checkin",{templateUrl:"/assets/templates/pages/checkin/index.html",controller:"getProjectsController",controllerAs:"projectsCtrl"}).when("/history",{templateUrl:"/assets/templates/pages/history/index.html",controller:"getHistoryController",controllerAs:"historyCtrl"}).when("/",{templateUrl:"/assets/templates/pages/home/index.html",controller:"loginController",controllerAs:"login"}).otherwise({redirectTo:"/"})}angular.module("CheckIn").config(a),a.$inject=["$routeProvider"]}(),function(){function a(a,b,c,d,e){e.gdata=d;var f="767533878479-svf3420ha7ggdrgoqq78kuanbm777ckc.apps.googleusercontent.com";c.load("oauth2","v2"),b.setClient(f),b.setScope("https://www.googleapis.com/auth/userinfo.email")}function b(a,b,c){a.setPrefix("CheckIn").setNotify(!0,!0),b.interceptors.push("httpInterceptorFactory"),c.asyncLoading(!1).scriptUrl("//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js")}function c(){return function(a){return a.slice().reverse()}}angular.module("CheckIn").run(a),a.$inject=["$location","GAuth","GApi","GData","$rootScope"],angular.module("CheckIn").config(b),b.$inject=["localStorageServiceProvider","$httpProvider","$momentProvider"],angular.module("CheckIn").filter("reverse",c)}(),function(){function a(a,b,c,d){function e(){function d(a){}function e(){return b.login().then(g)}function g(){return console.log(c.getUser()),b.getToken().then(h)}function h(b){return console.log(b),a.post("http://dashable-netsuite-api-st.herokuapp.com/users/auth/google_oauth2/callback?access_token="+b.access_token).then(function(a){return console.log(a),f("jwt",a.data.response.jwt),a.data})}return b.checkAuth().then(d,e)}function f(a,b){return d.set(a,b)}var g={login:e};return g}angular.module("CheckIn").factory("authenticationFactory",a),a.$inject=["$http","GAuth","GData","localStorageService"]}(),function(){function a(a){var b={request:function(b){var c=a.get("jwt");return""!==c&&(b.headers.Authorization="Bearer "+c),b}};return b}angular.module("CheckIn").factory("httpInterceptorFactory",a),a.$inject=["localStorageService"]}(),function(){function a(a){function b(){var b={async:!0,crossDomain:!0,url:"http://dashable-netsuite-api-st.herokuapp.com/api/1/projects",method:"GET",headers:{"content-type":"application/json"}};return a(b).then(function(a){return a.data})}function c(b){var c={async:!0,crossDomain:!0,url:"http://dashable-netsuite-api-st.herokuapp.com/api/1/projects/"+b+"/tasks",method:"GET",headers:{"content-type":"application/json"}};return a(c).then(function(a){return a.data})}function d(){var b={async:!0,crossDomain:!0,url:"http://dashable-netsuite-api-st.herokuapp.com/api/1/time_bills/recent",method:"GET",headers:{"content-type":"application/json"}};return a(b).then(function(a){return a.data})}function e(){var b={async:!0,crossDomain:!0,url:"http://dashable-netsuite-api-st.herokuapp.com/api/1/time_bills/history",method:"GET",headers:{"content-type":"application/json"}};return a(b).then(function(a){return a.data})}var f={getUserProjects:b,getProjectTask:c,getTimeBills:d,getCheckinsHistory:e};return f}angular.module("CheckIn").factory("checkinFactory",a),a.$inject=["$http"]}(),function(){function a(a){function b(){h=[],f=moment().day("Saturday"),g=parseInt(moment(f).toNow()),h.push({day:moment().format("dddd"),numberday:moment().format("D"),date:moment().format("YYYY-MM-DD"),today:!0,checkin:!1,future:!1});for(var a=1;11>a;a++)c=moment().subtract(a,"days").format("YYYY-MM-DD"),d=moment().subtract(a,"days").format("dddd"),e=moment().subtract(a,"days").format("D"),h.push({day:d,numberday:e,date:c,today:!1,checkin:!1,future:!1});for(var a=1;g+1>a;a++)c=moment().add(a,"days").format("YYYY-MM-DD"),d=moment().add(a,"days").format("dddd"),e=moment().add(a,"days").format("D"),h.unshift({day:d,numberday:e,date:c,today:!1,checkin:!1,future:!0});return h=$.grep(h,function(a){return"Sunday"!=a.day})}var c,d,e,f,g,h=[],i={get2weeks:b};return i}angular.module("CheckIn").factory("getweeksFactory",a),a.$inject=["$moment"]}(),function(){function a(){return{restrict:"E",transclude:!1,link:b}}function b(a){a.initCarousel=function(b){var c={},d=a.$eval($(b).attr("data-options"));for(var e in d)c[e]=d[e];$(b).owlCarousel(c)}}function c(){return{restrict:"A",transclude:!1,link:d}}function d(a,b){a.$last&&a.initCarousel(b.parent())}angular.module("CheckIn").directive("wrapOwlcarousel",a).directive("owlCarouselItem",c)}(),function(){function a(){function a(){}var b={restrict:"E",templateUrl:"/assets/templates/pages/history/history-items.html",bindToController:{checkins:"="},controllerAs:"vm",controller:a};return b}angular.module("CheckIn").directive("historyItems",a)}(),function(){function a(){function a(){function a(a){console.log(a)}vm=this,vm.hola=a}var b={restrict:"E",templateUrl:"/assets/templates/pages/checkin/calendar-week.html",bindToController:{week:"="},controllerAs:"vm",controller:a};return b}angular.module("CheckIn").directive("calendarWeek",a)}(),function(){function a(a,b,c,d){function e(){b.login().then(function(a){d.path("/checkin")})}var f=this;f.login=e}angular.module("CheckIn").controller("loginController",a),a.$inject=["$window","authenticationFactory","checkinFactory","$location"]}(),function(){function a(a,b,c,d,e){function f(){s.dates=b.get2weeks()}function g(){a.getTimeBills().then(h)}function h(a){f(),s.last12Checkins=a.response,angular.forEach(s.last12Checkins,function(a,b){a.dateformat=a.date.slice(0,10)}),i(s.last12Checkins,s.dates)}function i(a,b){angular.forEach(b,function(b,c){angular.forEach(a,function(a,c){a.dateformat===b.date&&(b.checkin=!0)})}),j()}function j(){s.lastWeek=s.dates,s.actualWeek=s.lastWeek.splice(0,6),s.selectWeek=s.actualWeek}function k(){a.getUserProjects().then(l)}function l(a){console.log(a),angular.forEach(a.response,function(a,b){s.optionsProjects.push({value:a.id,text:a.title})})}function m(a){s.optionsTask=[],r=a,n(r)}function n(b){a.getProjectTask(b).then(o)}function o(a){angular.forEach(a.response,function(a,b){s.optionsTask.push({value:a.id,text:a.title})})}function p(a){s.selectWeek=a,q()}function q(){s.statusButton=!s.statusButton}var r,s=this;s.getProjects=k,s.getProjectId=m,s.configProjectsSelectize={maxItems:1},s.dates=[],s.actualWeek=[],s.lastWeek=[],s.last12Checkins=[],s.selectWeek=[],s.changeWeek=p,s.statusButton=!0,g(),k()}angular.module("CheckIn").controller("getProjectsController",a),a.$inject=["checkinFactory","getweeksFactory","$scope","$timeout","$moment"]}(),function(){function a(a){function b(){a.getCheckinsHistory().then(c)}function c(a){console.log(a),d.history=a.response}var d=this;d.getCheckinsHistory=b,b()}angular.module("CheckIn").controller("getHistoryController",a),a.$inject=["checkinFactory"]}();